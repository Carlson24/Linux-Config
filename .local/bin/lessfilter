#!/usr/bin/bash

mime=$(file -Lbs --mime-type "$1")
category=${mime%%/*}
kind=${mime##*/}

if [[ -d "$1" ]]; then
  eza -hl --git --color=always --icons --group-directories-first "$1"
elif [[ "$category" = text ]]; then
  prettybat "$1"
elif [[ "$category" = image ]]; then
  chafa -f symbols "$1"
  exiftool "$1"
else
  lesspipe.sh "$1" | prettybat
fi
